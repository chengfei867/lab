## 实现raft选举
### 1、根据raft论文图2添加相应的状态属性
### 2、添加相关的自定义属性
### 3、从入口开始实现-Make()函数-初始化各个节点属性
### 4、初始化完成后准备选举
* 填充请求和相应参数
* 遍历节点，像每个服务器节点发送投票请求，接收请求结果与响应
* 关闭计数器和通道
* 遍历缓冲通道获取投票结果
* 统计票数超过节点数1/2即当选
* 当选leader后重置相关状态 发起心跳
* 没有当选到leader需要考虑是否是因为任期不是最新 如果是 通过响应的任期进行更新
### 5、follower处理接收到的投票请求 
* 如果候选人的任期没有自己的大则拒绝投票
* 如果当前节点的votedFor为nil或为candidateID，并且候选人的日志至少和自己的一样新则同意投票

## 实现日志复制（1）
### 1、当raft节点当选为leader之后，就可以发起一个日志复制操作
### 2、修改raft结构
* 添加日志提交与日志复制的一致性检查
* 添加applyCh接收日志响应
* 添加shutdown作为中断标志
### 3、实现日志复制操作
* 实现重置状态函数
* 填充start函数
    * 修改默认值
    * 将命令以日志的方式传递给leader
    * 更新自己的nextIndex和matchIndex
    * 唤醒一致性检查（实现一致性检查函数）
* 实现日志复制启动进程
* 实现向每个节点发起日志复制操作
* 首先实现日志请求与响应结构
* 实现发起日志Rpc请求的send函数
* 接收follower的响应
* 响应成功则更新相关的数据
* 更新日志的提交索引
* 失败则转变为follower并且将自己的任期号改为较大的那个

## 实现日志复制（2）
### 1 实现日志应用函数
* 判断已提交的日志索引和当前最后被应用的索引的大小关系
* 如果还有未应用的日志就逐一进行应用
### 2 接收方处理日志复制请求
* 判断任期，若当前节点任期更大，不进行日志复制，若leader的任期更大则对当前节点进行覆盖
* 更改当前节点的角色（保持强一致性）
* 确保当前follower的重定向ID正确
* 日志处理逻辑判断
  * 发送附加日志RPC的时候，leader会把新的日志条目紧接着之前的条目索引位置（prevLogIndex）和任期号（prevLogTerm）包含在里面。
    如果follower在它的日志中找不到包含的相同索引位置和任期号的条目 那么他就会拒绝接收新的日志条目
  * 处理冲突日志
### 3 实现提交索引更新函数
